{% extends 'base.html' %}

{% block title %}{{ lesson.title }} - Okuw Merkezi{% endblock %}

{% block content %}
<div style="margin-bottom: 16px;">
    <a href="{% url 'lesson_list' %}" style="color: #1890ff; text-decoration: none; display: inline-flex; align-items: center; gap: 8px;">
        â† Ã„hli sapaklara dolan
    </a>
</div>

<div class="card">
    <div style="border-bottom: 3px solid #1890ff; padding-bottom: 16px; margin-bottom: 24px;">
        <h1 style="color: #1890ff; margin-bottom: 8px;">{{ lesson.title }}</h1>
        <div style="display: flex; gap: 24px; color: #999; font-size: 14px;">
            <span>ğŸ“… DÃ¶redilen: {{ lesson.date_created|date:"d.m.Y" }}</span>
            <span>ğŸ”„ TÃ¤zelenen: {{ lesson.date_updated|date:"d.m.Y" }}</span>
        </div>
    </div>
    
    {% if lesson.description %}
    <div style="background: #e6f7ff; padding: 16px; border-radius: 6px; margin-bottom: 24px; border-left: 4px solid #1890ff;">
        <strong style="color: #1890ff;">DÃ¼ÅŸÃ¼ndiriÅŸ:</strong>
        <p style="margin-top: 8px; color: #333;">{{ lesson.description }}</p>
    </div>
    {% endif %}
    
    {% if lesson.content %}
    <div class="content-area">
        <h2 style="color: #1890ff; margin-top: 0;">SapakyÅˆ mazmuny</h2>
        <div>{{ lesson.content|safe }}</div>
    </div>
    {% else %}
    <div style="background: #f5f5f5; padding: 24px; border-radius: 6px; text-align: center; margin-bottom: 24px;">
        <p style="color: #999;">Bu sapak Ã¼Ã§in Ã½azuw mazmuny Ã½ok. Materiallar Ã¼Ã§in aÅŸakdaky goÅŸmaÃ§a faÃ½llara serediÅˆ.</p>
    </div>
    {% endif %}
</div>

{% if lesson.attachments.all %}
<div class="card">
    <h2 class="card-title">ğŸ“ GoÅŸmaÃ§a faÃ½llar ({{ lesson.attachments.count }})</h2>
    <ul class="attachment-list">
        {% for attachment in lesson.attachments.all %}
        <li class="attachment-item">
            <div class="attachment-info">
                <div class="attachment-icon">ğŸ“„</div>
                <div class="attachment-details">
                    <h4>{{ attachment.title }}</h4>
                    <div class="attachment-meta">
                        <span>{{ attachment.get_file_size_display }}</span>
                        <span style="margin: 0 8px;">â€¢</span>
                        <span>{{ attachment.uploaded_at|date:"d.m.Y" }}</span>
                        {% if attachment.description %}
                        <span style="margin: 0 8px;">â€¢</span>
                        <span>{{ attachment.description }}</span>
                        {% endif %}
                    </div>
                </div>
            </div>
            <a href="{{ attachment.file.url }}" class="btn" download style="font-size: 12px; padding: 6px 12px;">
                â¬‡ GÃ¶Ã§Ã¼rip almak
            </a>
        </li>
        {% endfor %}
    </ul>
</div>
{% else %}
<div class="card" style="text-align: center; padding: 32px; background: #f9f9f9;">
    <div style="font-size: 48px; margin-bottom: 8px;">ğŸ“</div>
    <p style="color: #999;">Bu sapak Ã¼Ã§in goÅŸmaÃ§a faÃ½l Ã½ok</p>
</div>
{% endif %}

<div style="margin-top: 24px; text-align: center;">
    <a href="{% url 'lesson_list' %}" class="btn">â† Ã„hli sapaklara dolan</a>
</div>
{% endblock %}
